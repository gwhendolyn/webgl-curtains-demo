<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>webgl curtains</title>
    <link rel="stylesheet" href="/stylesheets/global.css"/>
    
</head>
<body>
    <!--#region vertex shaders -->
    <script id="simple-vs" type="x-shader/x-vertex">
        precision mediump float;
        // those are the mandatory attributes that the lib sets
        attribute vec3 aVertexPosition;
        attribute vec2 aTextureCoord;
        //model view and projection matrix
        uniform mat4 uMVMatrix;
        uniform mat4 uPMatrix;
        //texture matrix that will handle image cover
        uniform mat4 uTextureMatrix0;
        // pass vertex and texture coords to the fragment shader
        varying vec3 vVertexPosition;
        varying vec2 vTextureCoord;

        void main() {
            vec3 vertexPosition = aVertexPosition;
            gl_Position = uPMatrix * uMVMatrix * vec4(vertexPosition, 1.0);
            // set the varyings
            // here we use our texture matrix to calculate the accurate texture coords
            vTextureCoord = (uTextureMatrix0 * vec4(aTextureCoord, 0.0, 1.0)).xy;
            vVertexPosition = vertexPosition;
        }
    </script>
    <!--#endregion-->

    <!--#region fragment shaders -->
    <script id="simple-fs" type="x-shader/x-fragment">
        precision mediump float;
        // get our varyings
        varying vec3 vVertexPosition;
        varying vec2 vTextureCoord;
        // the uniform we declared inside our javascript
        uniform float uTime;
        // our texture sampler (default name, to use a different name please refer to the documentation)
        uniform sampler2D uSampler0;
        void main() {
            // get our texture coords from our varying
            vec2 textureCoord = vTextureCoord;
    
            // map our texture with the texture matrix coords
            gl_FragColor = texture2D(uSampler0, textureCoord);
        }
    </script>
    <!--#endregion-->

    <!-- main script -->
    <script type="module" src="/scripts/main.js"></script>
    <!-- container for the webgl canvas -->
    <div id="canvas"></div>

    <!-- actual content starts here -->
    
</body>
</html>